using System.Collections.Generic;



public class CorpseService : RegisteredService, IServiceLoop
{

    readonly List<Actor> corpses;

        // -----------------------------------

    readonly List<CorpseRequest> pendingRequests = new();

        // -----------------------------------



    // ===============================================================================

    public void Loop()
    {
        ProcessCorpseRequests();
    }

    // ===============================================================================

    void ProcessCorpseRequests()
    {
        if (pendingRequests.Count == 0)
            return;

        foreach (var request in pendingRequests)
            ProcessCorpseRequest(request);

        pendingRequests.Clear();
    }

    void ProcessCorpseRequest(CorpseRequest request)
    {
        
    }

    // ===============================================================================

    // ActorDefinition GetDefinition(CorpseRequest request)
    // {
    //     if (request.Owner is not IDefined actor)
    //             throw new InvalidOperationException($"Corpse service request IDefined actor");
    // }


    // ===============================================================================

    public override void Dispose()
    {
        
    }

    public UpdatePriority Priority => ServiceUpdatePriority.CorpseService;

}

    // ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬
    //                                     Classes
    // ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬

public class CorpseRequest
{
    public Actor Owner                          { get; init; }
    public KillingBlow KillingBlow              { get; init; }
    public AnimationRequest Animation           { get; init; }
}

    // ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬
    //                                      Enums
    // ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬

public enum DeathType
{
    Standard,
    Dynamic
} 


// ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬
//                                         Events
// ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬

public readonly struct CorpseRequestEvent
{
    public CorpseRequest CorpseRequest          { get; init; }

    public CorpseRequestEvent(CorpseRequest request)
    {
        CorpseRequest = request;
    }
}

